<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Stats Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
</head>
<body>
    <div id="stats" class="d-none">

    </div>


    <div id="main" class="container d-none mt-3">

        <h1 >Chess Stats Tracker</h1>

        <form class="pt-3">

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Name</label>
                <div class="col-sm-10">
                    <input class="form-control" id="name" type="text" placeholder="Chess.com username">
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Format</label>
                <div class="col-sm-10">
                    <select class="form-select" name="format" id="format">
                        <option value="global">Global Elo</option>
                        <option value="session">Session</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Type</label>
                <div class="col-sm-10">
                    <select class="form-select" name="type" id="type">
                        <option value="bullet">Bullet</option>
                        <option value="blitz">Blitz</option>
                        <option value="rapid">Rapid</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Return</label>
                <div class="col-sm-10">
                    <div>
                        <input type="radio" id="plain" name="return" value="plain" checked>
                        <label for="plain">Plain Text</label>
                    </div>
                    <div>
                        <input type="radio" id="json" name="return" value="json">
                        <label for="json">JSON format</label>
                    </div>
                </div>
            </div>

            <div class="row justify-content-end">
                <div class="col-sm-10">
                    <button class="btn btn-primary" id="popout">Pop-out in new window</button>
                    <button class="btn btn-secondary" id="copy">Copy link (OBS)</button>
                </div>

            </div>
        </form>

        <div>
            <h4>Result</h4>
            <span id="previsualization"></span>
        </div>

        <a href="#" id="btn_help">How use it ?</a>

    </div>


    <div class="d-none" id="help">

        <h3>How use it ?</h3>
        
        <p>
            Enter your Chess.com name, select bullet, blitz or rapid and 'Global' if you want your stats from the beginning or Session if you want to see your stats of your session.
            If your launch the page at 1 PM, each game ending after 1 PM will count to your session stats
        </p>

        <h3>I am a streamer. How could I use this tool ?</h3>
        <p>
            This tool is built for you. Fill in the form and use the "Copy Link" button.
            Then go to your streaming software.<br>

            I will take OBS Studio as example.<br>

            Scenes > Sources -> Add -> Browser <br>

            Paste the URL.<br>

            Custom CSS is important.The default configuration on OBS is :
            <code>body { background-color: rgba(0, 0, 0, 0); margin: 0px auto; overflow: hidden; }</code>

            <br>

            <code>background-color: rgba(0, 0, 0, 0);</code> means the background will be transparent.
            By default text color is black.You may let it black or change it to white by adding
            <code>color:white;</code>

            
            The configuration for CSS may look like :
        <pre><code>body { 
    background-color: rgba(0, 0, 0, 0); 
    margin: 0px auto; 
    overflow: hidden; 
    color: white;
    font-size: 48px;
}</code></pre>

        In your software the render will be something like 
        <pre>3177 : 915 / 257 / 334</pre>
        Using CSS classes "elo", "win" , "draw" and "loss" you can customize as you wish.
        You can try this configuration.
        <pre><code>body { 
    background-color: rgba(0, 0, 0, 0); 
    margin: 0px auto; 
    overflow: hidden; 
    color: white;
    font-size: 48px;
}

.win {
    color : green;
}

.draw {
    color : gray;
}

.loss {
    color : red;
}
    </code></pre>
    3177 : <span style="color: green;">915</span> / <span style="color: grey;">257</span> / <span style="color: red;">334</span> 
        </p>
    </div>

    <script src="script.js"></script>
</body>

</html>